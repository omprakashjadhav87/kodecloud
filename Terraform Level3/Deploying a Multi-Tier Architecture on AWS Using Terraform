The DevOps team needs to build a secure, modular multi-tier AWS infrastructure to support a modern cloud-native application stack using Terraform. As part of this requirement, 
use only allowed AWS services and ensure secure variable usage.

As a member of the Nautilus DevOps Team, your tasks are:

Create a DynamoDB Table: Provision a table named nautilus-app-table with minimal configuration.

Create an SNS Topic: Set up a topic named nautilus-app-topic for messaging and notifications.

Create an SSM Parameter: Store a sensitive configuration value in AWS SSM Parameter Store under the name /nautilus/app/config.

Create main.tf file (do not create a separate .tf file) to provision a dynamoDB table, sns-topic and ssm parameter.

Use variables.tf file with the following:

KKE_ENVIRONMENT: devEnvironment.

KKE_DYNAMODB_TABLE_NAME: name of dynamodb table.

KKE_SNS_TOPIC_NAME: name of the sns topic.

KKE_SSM_PARAM_NAME: name of the SSM parameter.

Create terraform.tfvars to input the name of the variables.

Use outputs.tf file to output the following:

kke_dynamodb_table_name: name of the dynamodb table.

kke_sns_topic_arn: arn of the sns-topic created.

kke_ssm_parameter_name: name of the ssm parameter created.


Notes:

The Terraform working directory is /home/bob/terraform.

Right-click under the EXPLORER section in VS Code and select Open in Integrated Terminal to launch the terminal.

Before submitting the task, ensure that terraform plan returns No changes. Your infrastructure matches the configuration.

main.tf

provider "aws" {
  region = "us-east-1"
}

resource "aws_dynamodb_table" "nautilus_table" {
  name         = var.KKE_DYNAMODB_TABLE_NAME
  billing_mode = "PAY_PER_REQUEST"
  hash_key     = "id"

  attribute {
    name = "id"
    type = "S"
  }

  tags = {
    Environment = var.KKE_ENVIRONMENT
  }
}

resource "aws_sns_topic" "nautilus_topic" {
  name = var.KKE_SNS_TOPIC_NAME

  tags = {
    Environment = var.KKE_ENVIRONMENT
  }
}

resource "aws_ssm_parameter" "nautilus_config" {
  name        = var.KKE_SSM_PARAM_NAME
  type        = "SecureString"
  value       = "sensitive-config-value"
  overwrite   = true

  tags = {
    Environment = var.KKE_ENVIRONMENT
  }
}

=================================

ðŸ“„ variables.tf

variable "KKE_ENVIRONMENT" {
  description = "Environment name"
  type        = string
}

variable "KKE_DYNAMODB_TABLE_NAME" {
  description = "Name of the DynamoDB table"
  type        = string
}

variable "KKE_SNS_TOPIC_NAME" {
  description = "Name of the SNS topic"
  type        = string
}

variable "KKE_SSM_PARAM_NAME" {
  description = "Name of the SSM parameter"
  type        = string
}

=================================

ðŸ“„ terraform.tfvars

KKE_ENVIRONMENT         = "devEnvironment"
KKE_DYNAMODB_TABLE_NAME = "nautilus-app-table"
KKE_SNS_TOPIC_NAME      = "nautilus-app-topic"
KKE_SSM_PARAM_NAME      = "/nautilus/app/config"


=================================================

ðŸ“„ outputs.tf

output "kke_dynamodb_table_name" {
  value = aws_dynamodb_table.nautilus_table.name
}

output "kke_sns_topic_arn" {
  value = aws_sns_topic.nautilus_topic.arn
}

output "kke_ssm_parameter_name" {
  value = aws_ssm_parameter.nautilus_config.name
}

========================================

âœ… Final Steps

terraform init
terraform apply
terraform plan
